#!/bin/sh
# shellcheck disable=SC2034

package_name="twm"
package_version="1.0.13.1"
package_description="A very minimal window manager"
package_source="https://www.x.org/pub/individual/app/twm-1.0.13.1.tar.xz 2a337b776c904eab5b874eddc0124d4f"

pkg_deps="xorg-server"
opt_deps=""
build_deps="make"
check_deps=""

source_dir="$package_name-$package_version"

configure() {
    cd "$source_dir" || log_error "Failed to cd: $source_dir"
    sed -i -e '/^rcdir =/s,^\(rcdir = \).*,\1/etc/X11/app-defaults,' src/Makefile.in
    ./configure --prefix=/usr \
        --sysconfdir=/etc \
        --localstatedir=/var \
        --disable-static
}

build() {
    make
}

install_files() {
    make install
}
